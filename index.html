<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>2025년 12월 결산 보고서</title>

<!--
[절대 규칙 – 사용자 고정 요구사항]
1. 단일 HTML
2. 아이폰에서 사진처럼 한 장으로 보이도록 scale 적용
3. 상단 헤더/로고/대표사인/직인 = 제공 캡쳐와 1:1
4. 표 구조 임의 변경 금지
5. 은행 입출금 표에서 ‘통장잔액’ 컬럼 전부 삭제
6. 삭제된 공간만큼 기업은행/농협 폭 확장 (숫자 안 잘리게)
7. 계산은 자동, UI는 텍스트처럼
-->

<style>
:root{
  --ink:#111;
  --grid:#222;
  --red:#d82222;
  --bg:#f4f5f7;
  --paper:#fff;
}

/* 기본 */
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  font-family:"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
}

/* 아이폰 한 장 */
.stage{
  display:flex;
  justify-content:center;
  padding:12px;
}
.sheetWrap{
  width:900px;
  transform-origin:top center;
}
.sheet{
  background:var(--paper);
  padding:20px;
  box-shadow:0 6px 24px rgba(0,0,0,.12);
}

/* ===== 상단 ===== */
.title{
  text-align:center;
  font-size:52px;
  font-weight:900;
  color:#143a63;
  margin:10px 0 18px;
}

.topRow{
  display:grid;
  grid-template-columns: 1fr 1.2fr;
  gap:16px;
  align-items:center;
  margin-bottom:14px;
}

/* 로고 */
.logoBox img{
  max-width:420px;
  width:100%;
  display:block;
}

/* 대표 사인 박스 */
.signBox{
  border:3px solid #111;
  display:grid;
  grid-template-columns:100px 1fr;
  height:80px;
}
.signLabel{
  border-right:3px solid #111;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  letter-spacing:4px;
}
.signArea{
  display:flex;
  align-items:center;
  justify-content:center;
}
.signArea img{
  max-height:60px;
}

/* ===== 상단 요약 3칸 ===== */
.summary{
  border:3px solid #111;
  margin-bottom:14px;
}
.summaryGrid{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
}
.sumCell{
  border-right:3px solid #111;
}
.sumCell:last-child{border-right:0}
.sumHead{
  border-bottom:3px solid #111;
  text-align:center;
  padding:8px;
  font-weight:800;
}
.sumVal{
  text-align:center;
  font-size:30px;
  font-weight:900;
  padding:12px;
}
.sumVal.red{color:var(--red)}

</style>
</head>

<body>
<div class="stage">
<div class="sheetWrap" id="sheetWrap">
<div class="sheet">

<!-- 제목 -->
<div class="title">2025년 12월 결산 보고서</div>

<!-- 로고 / 사인 -->
<div class="topRow">
  <div class="logoBox">
    <img src="LOGO_IMAGE.png" alt="염전마을주민발전(주)">
  </div>
  <div class="signBox">
    <div class="signLabel">대표</div>
    <div class="signArea">
      <img src="SIGN_IMAGE.png" alt="대표 사인">
    </div>
  </div>
</div>

<!-- 상단 요약 -->
<div class="summary">
  <div class="summaryGrid">
    <div class="sumCell">
      <div class="sumHead">11월 이월금액</div>
      <div class="sumVal" id="carry">25,554,575</div>
    </div>
    <div class="sumCell">
      <div class="sumHead">수입 - 지출</div>
      <div class="sumVal">-15,443,632</div>
    </div>
    <div class="sumCell">
      <div class="sumHead">12월 31일 통장 잔액</div>
      <div class="sumVal red">10,110,943</div>
    </div>
  </div>
</div>

<style>
/* ===== 섹션 타이틀 ===== */
.sectionTitle{
  display:flex;
  align-items:center;
  gap:10px;
  margin:12px 0 8px;
  font-weight:900;
  font-size:20px;
}
.dot{
  width:16px;height:16px;border:2px solid #111;border-radius:50%;
}
.noteLine{
  border:3px solid #111;
  padding:8px 10px;
  margin:-2px 0 8px;
  text-align:center;
  font-weight:800;
  font-size:14px;
}

/* ===== 표 공통 ===== */
table{ width:100%; border-collapse:collapse; table-layout:fixed; }
.tbl{ border:3px solid #111; }
.tbl th,.tbl td{ border:2px solid #222; padding:6px 8px; font-size:15px; vertical-align:middle; }
.tbl th{ background:#f2f2f2; text-align:center; font-weight:900; letter-spacing:2px; }
.tbl .subhead th{ background:#f7f7f7; letter-spacing:1px; }

.edit{
  outline:none;
  display:block;
  width:100%;
  min-height:18px;
  white-space:pre-wrap;
}
.edit.num{
  text-align:right;
  font-variant-numeric: tabular-nums;
}

/* 수입/지출 표 컬럼 폭 (그림 느낌) */
.colDesc{ width:38%; }
.colAmt { width:18%; }
.colBigo{ width:26%; }

tfoot td{
  font-weight:900;
  font-size:16px;
}
</style>

<!-- 12월 수입/지출 내역서 -->
<div class="sectionTitle">
  <div class="dot"></div>
  <div>12월 수입/지출 내역서</div>
</div>

<div class="noteLine">( 수입은 한달전 생산된 금액입니다. 한달지연 입금됩니다)</div>

<table class="tbl" id="incomeExpenseTbl">
  <colgroup>
    <col class="colDesc"><col class="colAmt">
    <col class="colDesc"><col class="colAmt">
    <col class="colBigo">
  </colgroup>
  <thead>
    <tr>
      <th colspan="2">수&nbsp;&nbsp;입</th>
      <th colspan="2">지&nbsp;&nbsp;출</th>
      <th>비&nbsp;&nbsp;고</th>
    </tr>
    <tr class="subhead">
      <th>적&nbsp;&nbsp;요</th>
      <th>금&nbsp;&nbsp;액</th>
      <th>적&nbsp;&nbsp;요</th>
      <th>금&nbsp;&nbsp;액</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <!-- ✅ 그림에 있는 줄 구성 그대로(내용/금액은 수정 가능) -->
    <tr>
      <td><div class="edit" contenteditable="true">1차 SMP</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">8,508,100</div></td>
      <td><div class="edit" contenteditable="true">송전료</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">347,720</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">2차 SMP</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">6,967,300</div></td>
      <td><div class="edit" contenteditable="true">이사회 식대</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">52,000</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">3차 SMP</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">4,527,300</div></td>
      <td><div class="edit" contenteditable="true">사람과사람세무사</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">154,000</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">4차 SMP</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">1,895,650</div></td>
      <td><div class="edit" contenteditable="true">보상금</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">10,500,500</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">KT 전력예측</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true">대표및이사회수당</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">800,000</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">REC</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true">군청근조화환</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">100,000</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">이자</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">946</div></td>
      <td><div class="edit" contenteditable="true">이음북스</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">93,700</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true">이자</div></td>
      <td><div class="edit num incomeAmt" contenteditable="true">5,492</div></td>
      <td><div class="edit" contenteditable="true">토지임대료</div></td>
      <td><div class="edit num expenseAmt" contenteditable="true">14,300,000</div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>

    <!-- 빈 줄(그림처럼) -->
    <tr>
      <td><div class="edit" contenteditable="true"></div></td>
      <td><div class="edit num incomeAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true"></div></td>
      <td><div class="edit num expenseAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
    <tr>
      <td><div class="edit" contenteditable="true"></div></td>
      <td><div class="edit num incomeAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true"></div></td>
      <td><div class="edit num expenseAmt" contenteditable="true"></div></td>
      <td><div class="edit" contenteditable="true"></div></td>
    </tr>
  </tbody>

  <tfoot>
    <tr>
      <td class="center">합&nbsp;&nbsp;계</td>
      <td class="right"><span id="incomeTotal">0</span></td>
      <td class="center">합&nbsp;&nbsp;계</td>
      <td class="right"><span id="expenseTotal">0</span></td>
      <td class="right"><span id="netBottom">0</span></td>
    </tr>
  </tfoot>
</table>

<!-- ===============================
  12월 은행 입출금 내역
  ❌ 통장잔액 칸/줄 전부 삭제
  ⭕ 기업은행 / 농협 폭 확장
================================ -->

<style>
/* 은행 영역 */
.bankWrap{
  border:3px solid #111;
  padding:10px;
  margin-top:14px;
}
.bankTitleRow{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-bottom:8px;
}
.bankTitle{
  border:3px solid #111;
  text-align:center;
  font-weight:900;
  letter-spacing:4px;
  padding:6px 0;
}

.bankTables{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.bankTbl{
  border:3px solid #111;
}
.bankTbl th,.bankTbl td{
  border:2px solid #222;
  padding:6px 8px;
  font-size:14px;
}
.bankTbl th{
  background:#f2f2f2;
  font-weight:900;
  letter-spacing:2px;
  text-align:center;
}
.bankTbl col.desc{width:40%}
.bankTbl col.in{width:25%}
.bankTbl col.out{width:25%}
.bankTbl col.bal{width:30%}

.prevRow{
  display:grid;
  grid-template-columns:150px 1fr;
  border-bottom:2px solid #222;
}
.prevRow div{
  padding:6px;
  font-weight:900;
}
.prevRow .label{
  background:#f7f7f7;
  text-align:center;
  border-right:2px solid #222;
}

/* 하단 */
.bottomDate{
  margin:16px 0 12px;
  border:3px solid #111;
  text-align:center;
  font-weight:900;
  padding:8px;
  letter-spacing:2px;
}
.bottomRow{
  display:grid;
  grid-template-columns:1fr 1fr 140px;
  gap:12px;
  align-items:center;
}
.bottomBox{
  border:3px solid #111;
  text-align:center;
  font-weight:900;
  padding:10px;
  letter-spacing:2px;
}
.stamp img{
  width:120px;
  display:block;
  margin:auto;
}
</style>

<div class="sectionTitle">
  <div class="dot"></div>
  <div>12월 은행 입출금 내역</div>
</div>

<div class="bankWrap">

  <div class="bankTitleRow">
    <div class="bankTitle">기 업 은 행</div>
    <div class="bankTitle">농 협</div>
  </div>

  <div class="bankTables">

    <!-- 기업은행 -->
    <table class="bankTbl">
      <colgroup>
        <col class="desc"><col class="in"><col class="out"><col class="bal">
      </colgroup>
      <thead>
        <tr>
          <th>적 요</th>
          <th>입 금</th>
          <th>출 금</th>
          <th>잔 액</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="4">
            <div class="prevRow">
              <div class="label">이전잔액</div>
              <div class="right"><span class="bankPrev" data-bank="ib">0</span></div>
            </div>
          </td>
        </tr>

        <!-- 그림처럼 필요한 줄만 유지 -->
        <tr>
          <td><div class="edit" contenteditable="true"></div></td>
          <td><div class="edit num bankIn" data-bank="ib" contenteditable="true"></div></td>
          <td><div class="edit num bankOut" data-bank="ib" contenteditable="true"></div></td>
          <td class="right bankBal"></td>
        </tr>
        <tr>
          <td><div class="edit" contenteditable="true"></div></td>
          <td><div class="edit num bankIn" data-bank="ib" contenteditable="true"></div></td>
          <td><div class="edit num bankOut" data-bank="ib" contenteditable="true"></div></td>
          <td class="right bankBal"></td>
        </tr>
      </tbody>
    </table>

    <!-- 농협 -->
    <table class="bankTbl">
      <colgroup>
        <col class="desc"><col class="in"><col class="out"><col class="bal">
      </colgroup>
      <thead>
        <tr>
          <th>적 요</th>
          <th>입 금</th>
          <th>출 금</th>
          <th>잔 액</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="4">
            <div class="prevRow">
              <div class="label">이전잔액</div>
              <div class="right"><span class="bankPrev" data-bank="nh">0</span></div>
            </div>
          </td>
        </tr>

        <tr>
          <td><div class="edit" contenteditable="true"></div></td>
          <td><div class="edit num bankIn" data-bank="nh" contenteditable="true"></div></td>
          <td><div class="edit num bankOut" data-bank="nh" contenteditable="true"></div></td>
          <td class="right bankBal"></td>
        </tr>
        <tr>
          <td><div class="edit" contenteditable="true"></div></td>
          <td><div class="edit num bankIn" data-bank="nh" contenteditable="true"></div></td>
          <td><div class="edit num bankOut" data-bank="nh" contenteditable="true"></div></td>
          <td class="right bankBal"></td>
        </tr>
      </tbody>
    </table>

  </div>

  <!-- 통합잔액 -->
  <div class="integratedBox">
    <div class="integratedTitle">통 합 잔 액</div>
    <div class="integratedVal" id="totalBank">0</div>
  </div>

</div>

<!-- 하단 -->
<div class="bottomDate" contenteditable="true">
  2025년&nbsp;&nbsp;12월&nbsp;&nbsp;31일
</div>

<div class="bottomRow">
  <div class="bottomBox" contenteditable="true">염전마을주민발전(주)</div>
  <div class="bottomBox" contenteditable="true">대표이사&nbsp;&nbsp;김진욱</div>
  <div class="stamp">
    <img src="STAMP_IMAGE.png" alt="직인">
  </div>
</div>

<!-- ===============================
  자동 계산 스크립트
================================ -->
<script>
function num(v){
  if(!v) return 0;
  return parseInt(v.replace(/,/g,''))||0;
}
function fmt(v){
  return v.toLocaleString();
}

/* 수입/지출 합계 */
function calcIE(){
  let inc=0, exp=0;
  document.querySelectorAll('.incomeAmt').forEach(e=>inc+=num(e.innerText));
  document.querySelectorAll('.expenseAmt').forEach(e=>exp+=num(e.innerText));
  document.getElementById('incomeTotal').innerText=fmt(inc);
  document.getElementById('expenseTotal').innerText=fmt(exp);
  document.getElementById('netBottom').innerText=fmt(inc-exp);
  document.getElementById('netAmt').innerText=fmt(inc-exp);
  let carry=num(document.getElementById('carryAmt').innerText);
  document.getElementById('finalAmt').innerText=fmt(carry+(inc-exp));
}

/* 은행 누적 */
function calcBank(bank){
  let prev=num(document.querySelector('.bankPrev[data-bank="'+bank+'"]').innerText);
  let bal=prev;
  document.querySelectorAll('[data-bank="'+bank+'"]').forEach(e=>{
    if(e.classList.contains('bankIn')) bal+=num(e.innerText);
    if(e.classList.contains('bankOut')) bal-=num(e.innerText);
    let row=e.closest('tr');
    if(row){
      let b=row.querySelector('.bankBal');
      if(b) b.innerText=fmt(bal);
    }
  });
  return bal;
}

function calcAll(){
  calcIE();
  let ib=calcBank('ib');
  let nh=calcBank('nh');
  document.getElementById('totalBank').innerText=fmt(ib+nh);
}

document.addEventListener('input',calcAll);
calcAll();
</script>

</div>
</div>
</div>
</body>
</html>
